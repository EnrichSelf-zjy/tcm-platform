# 养生有道 - 中医药知识平台

## 项目介绍
一个现代化的中医药知识分享和交流平台，包含药材识别、方剂查询、养生社区等功能。

## 功能特点
- 药材智能识别
- 方剂大全查询
- 养生社区交流
- 个人中心管理

## 技术栈
- 前端：HTML5, CSS3, JavaScript
- 后端：Node.js, Express
- API：百度智能云 API
- 部署：Vercel

## 本地开发
1. 克隆项目
```bash
git clone https://github.com/your-username/tcm-platform.git
```

2. 安装依赖
```bash
npm install
```

3. 配置环境变量
复制 .env.example 到 .env 并填写相关配置

4. 启动开发服务器
```bash
npm run dev
```

## 部署说明
1. Fork 本项目
2. 在 Vercel 中导入项目
3. 配置环境变量
4. 完成部署

## 贡献指南
欢迎提交 Issue 和 Pull Request

## 许可证
MIT License

## 项目概述
一个集中医药知识查询、养生社区于一体的综合平台。

## 当前版本：v0.1.0-beta

### 第一阶段功能（当前）
- [x] 用户系统
  - 基础注册登录
  - 个人资料管理
  - 收藏功能
  - 浏览历史
- [x] 中药数据库
  - 药材信息查询
  - 分类筛选
  - 搜索功能
  - 详情展示
- [x] 方剂系统
  - 经典方剂
  - 网红养生方
  - 配方详情
  - 收藏功能
- [x] 社区功能
  - 发帖
  - 评论
  - 点赞
  - 内容筛选
- [x] 数据持久化
  - 统一数据管理
  - 版本控制
  - 错误处理
  - 数据备份

### 第二阶段功能（计划中）
- [ ] 用户体验优化
  - 界面交互优化
  - 响应速度提升
  - 错误处理完善
  - 数据加载优化
- [ ] 内容管理
  - 发帖审核
  - 评论管理
  - 举报处理
  - 内容过滤
- [ ] 数据分析
  - 使用统计
  - 行为分析
  - 内容分析
  - 用户画像

### 后续版本计划
1. v0.2.0：AR识别功能
2. v0.3.0：智能推荐系统
3. v0.4.0：数据可视化
4. v1.0.0：正式版发布

## 技术栈
- 前端：HTML5, CSS3, JavaScript
- 存储：LocalStorage (已实现数据持久化管理系统)
- 部署：GitHub Pages

## 开发重点
1. 完善核心功能
2. 优化用户体验
3. 确保数据安全
4. 提高系统稳定性

## 近期任务
1. 完善用户认证流程
2. 优化数据存储结构
3. 实现基础搜索功能
4. 完善错误处理机制

## 发布计划
- Alpha：2024.2
- Beta：2024.3
- v1.0：2024.4

### 3. 互动功能
- 配方创作工坊（用户DIY方剂投稿） 🆕
- 网红方剂实验室（查看改良配方演变史） 🆕
- 我的养生日记（记录饮用体验） 🆕
- 方剂收藏夹

## 开发规划

### 第一阶段
- [x] 搭建基础网站框架
- [x] 建立中药数据库（含30种常用药材） 🆕
- [x] 完成中药分类页面（支持响应式布局） 🆕

### 第二阶段
- [x] 添加方剂数据库（含15个经典方剂）
- [x] 建立网红方剂专题页
- [x] 实现配方投稿审核系统
    - [x] 配方创作工坊界面
    - [x] 药材选择与用量输入
    - [x] 配方理论依据说明
    - [x] 提交审核功能
    - [ ] 管理员审核界面 🆕

### 第三阶段
- [x] 实现用户认证系统（基础版）
- [x] 开发个人中心功能
- [x] 开发药材AR识别功能（基础版）
- [x] 搭建养生社区论坛 🆕

### 第四阶段
- [x] 实现内容审核系统 🆕
- [x] 开发智能推荐算法 🆕
- [x] 添加移动端适配 
- [x] 完善数据可视化 🆕

## 新增功能
- 帖子收藏与举报系统 🆕
- 社区内容搜索功能 🆕
- 用户互动评论系统 🆕
- 举报内容审核面板 🆕
- 管理员批量处理机制 🆕
- 用户行为日志追踪 🆕

## 数据统计
- 中药库：30 种
- 方剂库：18 个（含7个网红方剂）
- 文献引用：9 部权威著作 🆕

## 项目结构
```
├── index.html
├── trending.html 🆕
├── submit.html 🆕
├── admin.html 🆕
├── styles.css
├── data.js
├── app.js
├── trending.js 🆕
├── submit.js 🆕
├── admin.js 
├── register.html 🆕
├── login.html 🆕
├── auth.js 🆕
├── profile.html 
├── profile.js 🆕
├── ar.html 🆕
├── ar.js 🆕
├── forum.html 🆕
└── assets/ 🆕
    └── models/
```

## 注意事项
本网站内容仅供参考，具体用药请遵医嘱。所有数据均标注文献来源，请勿自行配伍使用。

## 推荐算法原理
1. 协同过滤：基于用户收藏行为寻找相似用户
2. 热门推荐：综合浏览量和互动量
3. 个性化推荐：结合用户历史行为

## 移动端特性
- 响应式网格布局
- 触控友好交互
- 自适应字体大小
- 折叠式导航菜单

## 可视化功能
- 用户增长趋势分析
- 内容分布环形图
- 实时访问量监控
- 交互式数据筛选 🆕
- 多维度数据对比
- 自定义时间范围
- 动态数据更新机制 🆕

## 视觉升级 🎨
- 极光渐变配色方案
- 磨砂玻璃效果界面
- 动态网格布局
- 表情包快捷输入
- 交互动画系统
- 霓虹文字特效

## 设计理念
1. 新国潮风格：传统元素现代化演绎
2. 赛博朋克：霓虹光效+透明材质
3. 极简主义：减少视觉噪音，聚焦内容

## 功能更新
- 搜索功能完善：支持中药名、功效、性味的模糊搜索
- 分类筛选优化：支持按功效、性味多维度筛选
- 详情查看：支持查看完整药材/方剂信息
- 快速导航：支持快速跳转到相关功能
- 功效筛选：支持多功效组合筛选

## 使用说明
1. 搜索：在顶部搜索框输入关键词，支持中药名、功效、性味等
2. 分类筛选：点击分类标签进行筛选
3. 功效检索：通过快速导航进入功效筛选面板
4. 详情查看：点击任意卡片的"查看详情"按钮

## 功能实现进度

### 已完成功能
- [x] 中药搜索与筛选
  - 支持名称、功效、性味关键词搜索
  - 支持分类标签筛选
  - 支持多功效组合筛选
- [x] 方剂查询系统
  - 支持名称模糊搜索
  - 支持经典/网红方剂筛选
  - 支持功效关键词搜索
- [x] 详情查看
  - 支持药材详细信息展示
  - 支持方剂配方查看
  - 支持禁忌提示
- [x] 快速导航
  - AR识别跳转
  - 方剂快速查询
  - 功效智能检索
- [x] 管理后台优化
  - [x] 批量审核功能
  - [x] 智能排序功能
  - [x] 快速审核通道
  - [x] 时间智能显示
  - [x] 界面交互优化
- [x] 视觉体验提升
  - [x] 动画过渡效果
  - [x] 卡片悬浮反馈
  - [x] 布局结构优化
  - [x] 配色方案调整
- [x] 用户体验优化
  - [x] 操作流程简化
  - [x] 状态即时反馈
  - [x] 批量处理支持
  - [x] 数据实时更新
- [x] 用户交互优化
  - [x] 按钮事件统一处理
  - [x] 导航平滑滚动
  - [x] 收藏功能完善
  - [x] 权限控制优化
- [x] 认证系统完善
  - [x] 用户角色管理
  - [x] 权限等级控制
  - [x] 用户界面优化
  - [x] 登录状态管理
- [x] 社区功能
  - 发帖功能
    + 发布新帖
    + 编辑帖子
    + 标签管理
  - 评论系统
    + 评论展示
    + 评论管理
    + 删除权限
  - 点赞功能
    + 点赞状态同步
    + 实时计数
  - 收藏功能
    + 收藏状态同步
    + 个人收藏夹
  - 交互反馈
    + 操作提示
    + 错误处理
  - 数据持久化
    + 测试数据
    + 本地存储

### 待优化功能
- [ ] AR识别准确度提升
- [ ] 搜索算法优化
- [ ] 用户个性化推荐

## 项目进展 - 2024.1.15

### 已实现功能
- 用户系统
  - 手机号注册登录
  - 资料编辑
  - 收藏管理
- 内容功能
  - 网红方剂浏览/搜索
  - 药材识别
  - 养生论坛
- 智能推荐
  - 基于协同过滤的推荐
  - 热门内容推荐

### 最新更新
- 方剂收藏功能
- 用户行为追踪
- 智能推荐算法增强
- 数据验证和错误处理优化

### 待实现功能
- [ ] 方剂疗效反馈系统
- [ ] 药材AR展示
- [ ] 智能问诊系统

## 功能特性

### 已实现功能
- 用户认证
  * 注册/登录
  * 记住登录状态
  * 退出登录
  
- 帖子管理
  * 发布帖子
  * 编辑帖子
  * 删除帖子
  * 帖子列表展示
  * 帖子分类和标签
  
- 交互功能
  * 点赞/取消点赞
  * 评论/删除评论
  * 收藏/取消收藏
  * 浏览量统计
  * 关注/取消关注
  
- 个人中心
  * 个人信息展示
  * 我的收藏
    - 收藏列表展示
    - 取消收藏
    - 收藏时间显示
  * 浏览记录
    - 最近浏览的帖子
    - 浏览时间记录
    - 清空浏览记录
  * 关注管理
    - 关注列表
    - 粉丝列表
    - 关注/取消关注
  
- 其他功能
  * 帖子搜索
  * 分类筛选
  * 分页加载
  * 实时数据更新
  * 交互动画效果

### 待优化功能
- 用户头像上传
- 帖子图片上传
- 评论点赞功能
- 消息通知系统
- 用户主页展示
- 帖子分享功能

## 技术实现
### 药材识别模块
目前已实现:
- 图片采集(拍照/上传)
- 基础图像处理

建议改进方案:
1. 接入专业API
- 使用百度AI开放平台的[图像识别API](https://ai.baidu.com/tech/imagerecognition)
- 或使用阿里云的[视觉智能开放平台](https://vision.aliyun.com/)

2. 自建模型方案
- 收集中药材图片数据集
- 使用TensorFlow.js构建CNN模型
- 进行模型训练和优化
- 部署模型提供识别服务

3. 识别流程优化
```javascript
// 图像预处理
- 图像归一化
- 特征提取
- 数据增强

// 识别服务
- 模型加载
- 特征匹配
- 结果输出
```

4. 准确度提升
- 多角度识别
- 特征融合
- 结果验证

## 后续规划
1. 完善识别功能
- 接入专业API或部署自建模型
- 提高识别准确率
- 优化识别速度

2. 增强用户体验
- 添加识别历史
- 支持批量识别
- 提供详细药材信息

3. 数据积累
- 建立药材图片库
- 收集用户反馈
- 持续优化模型

## 开发说明
1. 配置API密钥(使用百度AI平台为例)
```javascript
const API_KEY = 'your_api_key';
const SECRET_KEY = 'your_secret_key';

async function identifyHerb(image) {
    const accessToken = await getAccessToken(API_KEY, SECRET_KEY);
    const result = await requestIdentification(image, accessToken);
    return processResult(result);
}
```

2. 调用示例
```javascript
// ar.js
async function handleImage(file) {
    try {
        const result = await identifyHerb(file);
        displayResult(result);
    } catch (error) {
        console.error('识别失败:', error);
        showError('识别失败，请重试');
    }
}
```

## 注意事项
1. API使用
- 注册开发者账号
- 创建应用获取密钥
- 遵守API调用限制
- 做好异常处理

2. 图片要求
- 清晰度要求
- 大小限制
- 格式支持
- 背景建议

3. 安全考虑
- 密钥保护
- 请求验证
- 数据加密
- 访问控制